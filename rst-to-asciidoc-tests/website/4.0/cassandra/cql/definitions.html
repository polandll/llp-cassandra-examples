<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Definitions :: Apache Cassandra Documentation</title>
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../..">Apache Cassandra Documentation&nbsp;&nbsp;&nbsp;<img src="../../../../_/img/cassandra_logo.png"></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Download</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Documentation</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Latest</a>
            <a class="navbar-item" href="#">3.x</a>
            <a class="navbar-item" href="#">3.0</a>
            <a class="navbar-item" href="#">2.1</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Developer Mailing List</a>
            <a class="navbar-item" href="#">User Mailing List</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Blog</a>
	</div>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ASCIIDOC_POC" data-version="4.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ASCIIDOC_POC</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../index.html">Cassandra Documentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../bugs.html">How to report bugs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contactus.html">Contact us</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cassandra</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../architecture/index.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/dynamo.html">Dynamo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/storage_engine.html">Storage engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../architecture/guarantees.html">Guarantees</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../new/index.html">What&#8217;s new</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/installing.html">Installing Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/configuring.html">Configuring Cassandra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/querying.html">Inserting and querying</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/drivers.html">Client drivers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../getting_started/production.html">Production recommendations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../data_modeling/index.html">Data Modeling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#cql/index.adoc{">CQL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="changes.html">Changes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ddl.html">DDL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="dml.html">DML</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operators.html">Operators</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="definitions.html">Definitions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="indexes.html">Secondary indexes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mvs.html">Materialized views</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="functions.html">Functions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="json.html">JSON</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="triggers.html">Triggers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="appendices.html">Appendices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operating/index.html">Operating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools/index.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/index.html">Development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plug-ins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../troubleshooting/index.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faq/index.html">FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ASCIIDOC_POC</span>
    <span class="version">4.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ASCIIDOC_POC</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">4.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">ASCIIDOC_POC</a></li>
    <li>Cassandra</li>
    <li>CQL</li>
    <li><a href="definitions.html">Definitions</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/lorina.poland/CLONES/cassandra-examples/rst-to-asciidoc-tests/ASCIIDOC/modules/cassandra/pages/cql/definitions.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Definitions</h1>
<div class="sect1">
<h2 id="conventions"><a class="anchor" href="#conventions"></a>Conventions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To aid in specifying the CQL syntax, we will use the following
conventions in this document:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Language rules will be given in an informal
<a href="http://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form#Variants">BNF
variant</a> notation. In particular, we&#8217;ll use square brakets (<code>[ item ]</code>)
for optional items, <code>*</code> and <code>+</code> for repeated items (where <code>+</code> imply at
least one).</p>
</li>
<li>
<p>The grammar will also use the following convention for convenience:
non-terminal term will be lowercase (and link to their definition) while
terminal keywords will be provided "all caps". Note however that
keywords are <code>identifiers</code> and are thus case insensitive in practice. We
will also define some early construction using regexp, which we&#8217;ll
indicate with <code>re(&lt;some regular expression&gt;)</code>.</p>
</li>
<li>
<p>The grammar is provided for documentation purposes and leave some
minor details out. For instance, the comma on the last column definition
in a <code>CREATE TABLE</code> statement is optional but supported if present even
though the grammar in this document suggests otherwise. Also, not
everything accepted by the grammar is necessarily valid CQL.</p>
</li>
<li>
<p>References to keywords or pieces of CQL code in running text will be
shown in a <code>fixed-width font</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="identifiers"><a class="anchor" href="#identifiers"></a>Identifiers and keywords</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CQL language uses <em>identifiers</em> (or <em>names</em>) to identify tables,
columns and other objects. An identifier is a token matching the regular
expression <code>[a-zA-Z][a-zA-Z0-9_]*</code>.</p>
</div>
<div class="paragraph">
<p>A number of such identifiers, like <code>SELECT</code> or <code>WITH</code>, are <em>keywords</em>.
They have a fixed meaning for the language and most are reserved. The
list of those keywords can be found in <code>appendix-A</code>.</p>
</div>
<div class="paragraph">
<p>Identifiers and (unquoted) keywords are case insensitive. Thus <code>SELECT</code>
is the same than <code>select</code> or <code>sElEcT</code>, and <code>myId</code> is the same than
<code>myid</code> or <code>MYID</code>. A convention often used (in particular by the samples
of this documentation) is to use upper case for keywords and lower case
for other identifiers.</p>
</div>
<div class="paragraph">
<p>There is a second kind of identifiers called <em>quoted identifiers</em>
defined by enclosing an arbitrary sequence of characters (non empty) in
double-quotes(<code>"</code>). Quoted identifiers are never keywords. Thus
<code>"select"</code> is not a reserved keyword and can be used to refer to a
column (note that using this is particularly advised), while <code>select</code>
would raise a parsing error. Also, contrarily to unquoted identifiers
and keywords, quoted identifiers are case sensitive (<code>"My Quoted Id"</code> is
<em>different</em> from <code>"my quoted id"</code>). A fully lowercase quoted identifier
that matches <code>[a-zA-Z][a-zA-Z0-9_]*</code> is however <em>equivalent</em> to the
unquoted identifier obtained by removing the double-quote (so <code>"myid"</code>
is equivalent to <code>myid</code> and to <code>myId</code> but different from <code>"myId"</code>).
Inside a quoted identifier, the double-quote character can be repeated
to escape it, so <code>"foo "" bar"</code> is a valid identifier.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p><em>quoted identifiers</em> allows to declare columns with arbitrary names, and
those can sometime clash with specific names used by the server. For
instance, when using conditional update, the server will respond with a
result-set containing a special result named <code>"[applied]"</code>. If youâ€™ve
declared a column with such a name, this could potentially confuse some
tools and should be avoided. In general, unquoted identifiers should be
preferred but if you use quoted identifiers, it is strongly advised to
avoid any name enclosed by squared brackets (like <code>"[applied]"</code>) and any
name that looks like a function call (like <code>"f(x)"</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More formally, we have:</p>
</div>
<div class="paragraph">
<p>identifier: <span class="title-ref">unquoted_identifier</span> |
<span class="title-ref">quoted_identifier</span> unquoted_identifier:
re('[a-zA-Z][<a href="">a-zA-Z0-9</a>]*') quoted_identifier: '"' (any character
where " can appear if doubled)+ '"'</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="constants"><a class="anchor" href="#constants"></a>Constants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CQL defines the following kind of <em>constants</em>:</p>
</div>
<div class="paragraph">
<p>constant: <span class="title-ref">string</span> | <span class="title-ref">integer</span> |
<span class="title-ref">float</span> | <span class="title-ref">boolean</span> | <span class="title-ref">uuid</span> |
<span class="title-ref">blob</span> | NULL string: ''' (any character where ' can appear
if doubled)+ ''' : '' (any character other than '') '$$' integer:
re('-?<span class="0-9">') float: re('-?[0-9]</span>(.[0-9]*)?([eE][-]?[0-9])?') | NAN |
INFINITY boolean: TRUE | FALSE uuid:
<span class="title-ref">hex</span>{8}-<span class="title-ref">hex</span>{4}-<span class="title-ref">hex</span>{4}-<span class="title-ref">hex</span>{4}-<span class="title-ref">hex</span>{12}
hex: re("[0-9a-fA-F]") blob: '0' ('x' | 'X') <span class="title-ref">hex</span>+</p>
</div>
<div class="paragraph">
<p>In other words:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A string constant is an arbitrary sequence of characters enclosed by
single-quote(<code>'</code>). A single-quote can be included by repeating it, e.g.
<code>'It''s raining today'</code>. Those are not to be confused with quoted
<code>identifiers</code> that use double-quotes. Alternatively, a string can be
defined by enclosing the arbitrary sequence of characters by two dollar
characters, in which case single-quote can be used without escaping
(<code>It's raining today</code>). That latter form is often used when defining
<code>user-defined functions &lt;udfs&gt;</code> to avoid having to escape single-quote
characters in function body (as they are more likely to occur than
<code>$$</code>).</p>
</li>
<li>
<p>Integer, float and boolean constant are defined as expected. Note
however than float allows the special <code>NaN</code> and <code>Infinity</code> constants.</p>
</li>
<li>
<p>CQL supports
<a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">UUID</a>
constants.</p>
</li>
<li>
<p>Blobs content are provided in hexadecimal and prefixed by <code>0x</code>.</p>
</li>
<li>
<p>The special <code>NULL</code> constant denotes the absence of value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For how these constants are typed, see the <code>data-types</code> section.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="terms"><a class="anchor" href="#terms"></a>Terms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CQL has the notion of a <em>term</em>, which denotes the kind of values that
CQL support. Terms are defined by:</p>
</div>
<div class="paragraph">
<p>term: <span class="title-ref">constant</span> | <span class="title-ref">literal</span> |
<span class="title-ref">function_call</span> | <span class="title-ref">arithmetic_operation</span> |
<span class="title-ref">type_hint</span> | <span class="title-ref">bind_marker</span> literal:
<span class="title-ref">collection_literal</span> | <span class="title-ref">udt_literal</span> |
<span class="title-ref">tuple_literal</span> function_call: <span class="title-ref">identifier</span> '('
<span class="[.title-ref">term</span> (',' <span class="title-ref">term</span>)* ] ')'
arithmetic_operation: '-' <span class="title-ref">term</span> | <span class="title-ref">term</span> ('+' |
'-' | '*' | '/' | '%') <span class="title-ref">term</span> type_hint: '('
<span class="title-ref">cql_type</span> <span class="title-ref">)</span> term bind_marker: '?' | ':'
<span class="title-ref">identifier</span></p>
</div>
<div class="paragraph">
<p>A term is thus one of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>constant &lt;constants&gt;</code>.</p>
</li>
<li>
<p>A literal for either <code>a collection &lt;collections&gt;</code>,
<code>a user-defined type &lt;udts&gt;</code> or <code>a tuple &lt;tuples&gt;</code> (see the linked
sections for details).</p>
</li>
<li>
<p>A function call: see <code>the section on functions &lt;cql-functions&gt;</code> for
details on which <code>native function
&lt;native-functions&gt;</code> exists and how to define your own
<code>user-defined ones &lt;udfs&gt;</code>.</p>
</li>
<li>
<p>An arithmetic operation between terms. see
<code>the section on arithmetic operations &lt;arithmetic_operators&gt;</code></p>
</li>
<li>
<p>A <em>type hint</em>: see the <code>related section &lt;type-hints&gt;</code> for details.</p>
</li>
<li>
<p>A bind marker, which denotes a variable to be bound at execution time.
See the section on <code>prepared-statements</code> for details. A bind marker can
be either anonymous (<code>?</code>) or named (<code>:some_name</code>). The latter form
provides a more convenient way to refer to the variable for binding it
and should generally be preferred.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="comments"><a class="anchor" href="#comments"></a>Comments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A comment in CQL is a line beginning by either double dashes (<code>--</code>) or
double slash (<code>//</code>).</p>
</div>
<div class="paragraph">
<p>Multi-line comments are also supported through enclosure within <code>/<strong></code> and
<code></strong>/</code> (but nesting is not supported).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cql hljs" data-lang="cql">-- This is a comment
// This is a comment too
/* This is
   a multi-line comment */</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="statements"><a class="anchor" href="#statements"></a>Statements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CQL consists of statements that can be divided in the following
categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>data-definition</code> statements, to define and change how the data is
stored (keyspaces and tables).</p>
</li>
<li>
<p><code>data-manipulation</code> statements, for selecting, inserting and deleting
data.</p>
</li>
<li>
<p><code>secondary-indexes</code> statements.</p>
</li>
<li>
<p><code>materialized-views</code> statements.</p>
</li>
<li>
<p><code>cql-roles</code> statements.</p>
</li>
<li>
<p><code>cql-permissions</code> statements.</p>
</li>
<li>
<p><code>User-Defined Functions &lt;udfs&gt;</code> statements.</p>
</li>
<li>
<p><code>udts</code> statements.</p>
</li>
<li>
<p><code>cql-triggers</code> statements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All the statements are listed below and are described in the rest of
this documentation (see links above):</p>
</div>
<div class="paragraph">
<p>cql_statement: <span class="title-ref">statement</span> [ ';' ] statement:
<span class="title-ref">ddl_statement</span> : | <span class="title-ref">dml_statement</span> : |
<span class="title-ref">secondary_index_statement</span> : |
<span class="title-ref">materialized_view_statement</span> : |
<span class="title-ref">role_or_permission_statement</span> : |
<span class="title-ref">udf_statement</span> : | <span class="title-ref">udt_statement</span> : |
<span class="title-ref">trigger_statement</span> ddl_statement:
<span class="title-ref">use_statement</span> : | <span class="title-ref">create_keyspace_statement</span>
: | <span class="title-ref">alter_keyspace_statement</span> : |
<span class="title-ref">drop_keyspace_statement</span> : |
<span class="title-ref">create_table_statement</span> : |
<span class="title-ref">alter_table_statement</span> : |
<span class="title-ref">drop_table_statement</span> : | <span class="title-ref">truncate_statement</span>
dml_statement: <span class="title-ref">select_statement</span> : |
<span class="title-ref">insert_statement</span> : | <span class="title-ref">update_statement</span> : |
<span class="title-ref">delete_statement</span> : | <span class="title-ref">batch_statement</span>
secondary_index_statement: <span class="title-ref">create_index_statement</span> : |
<span class="title-ref">drop_index_statement</span> materialized_view_statement:
<span class="title-ref">create_materialized_view_statement</span> : |
<span class="title-ref">drop_materialized_view_statement</span>
role_or_permission_statement: <span class="title-ref">create_role_statement</span> : |
<span class="title-ref">alter_role_statement</span> : | <span class="title-ref">drop_role_statement</span>
: | <span class="title-ref">grant_role_statement</span> : |
<span class="title-ref">revoke_role_statement</span> : |
<span class="title-ref">list_roles_statement</span> : |
<span class="title-ref">grant_permission_statement</span> : |
<span class="title-ref">revoke_permission_statement</span> : |
<span class="title-ref">list_permissions_statement</span> : |
<span class="title-ref">create_user_statement</span> : |
<span class="title-ref">alter_user_statement</span> : | <span class="title-ref">drop_user_statement</span>
: | <span class="title-ref">list_users_statement</span> udf_statement:
<span class="title-ref">create_function_statement</span> : |
<span class="title-ref">drop_function_statement</span> : |
<span class="title-ref">create_aggregate_statement</span> : |
<span class="title-ref">drop_aggregate_statement</span> udt_statement:
<span class="title-ref">create_type_statement</span> : |
<span class="title-ref">alter_type_statement</span> : | <span class="title-ref">drop_type_statement</span>
trigger_statement: <span class="title-ref">create_trigger_statement</span> : |
<span class="title-ref">drop_trigger_statement</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prepared-statements"><a class="anchor" href="#prepared-statements"></a>Prepared Statements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CQL supports <em>prepared statements</em>. Prepared statements are an
optimization that allows to parse a query only once but execute it
multiple times with different concrete values.</p>
</div>
<div class="paragraph">
<p>Any statement that uses at least one bind marker (see <code>bind_marker</code>)
will need to be <em>prepared</em>. After which the statement can be <em>executed</em>
by provided concrete values for each of its marker. The exact details of
how a statement is prepared and then executed depends on the CQL driver
used and you should refer to your driver documentation.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
